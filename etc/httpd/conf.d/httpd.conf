#
# Apache (httpd) configuration for a web application that uses:
#   - mod_wsgi
#
# This configuration expects:
#
#   - WSGI application in `/srv/wsgi.py`
#

ServerName localhost
Listen 8080

## Minimize information sent about this server.

ServerSignature Off
ServerTokens ProductOnly
TraceEnable Off

<VirtualHost *:8080>
  ServerName localhost
  ServerAdmin support@localhost

  ## Deny access to the file system...

  <Directory "/">
    <RequireAny>
      Require all denied
    </RequireAny>
    Options None
    AllowOverride None
  </Directory>

  ## ...except for where the web application resides.

  <Directory "/srv">
    <RequireAny>
      Require all granted
    </RequireAny>
  </Directory>

  ## Allow unrestricted access to the web space.

  <Location "/">
    <RequireAny>
      Require all granted
    </RequireAny>
    AuthType none
  </Location>

  ## Configure logging.

  ErrorLog "/var/log/httpd/local_default_ssl_error_ssl.log"
  LogLevel info
  CustomLog "/var/log/httpd/local_default_ssl_access_ssl.log" combined

  ## Configure WSGI.

  WSGIDaemonProcess Registration display-name=Registration processes=2 home=/srv
  WSGIProcessGroup Registration
  WSGIScriptAlias / "/srv/wsgi.py"
</VirtualHost>
